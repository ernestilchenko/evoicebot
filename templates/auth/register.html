{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zarejestruj się</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
</head>
<body>
{% if messages %}
    <div class="messages-container">
        {% for message in messages %}
            <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                {% if message.tags == 'success' %}
                    <div class="message-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                             stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                    </div>
                {% else %}
                    <div class="message-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                             stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                    </div>
                {% endif %}
                <p>{{ message }}</p>
            </div>
        {% endfor %}
    </div>
{% endif %}

<div class="auth-container">
    <div class="auth-box">
        <div class="auth-header">
            <h1 class="auth-title">Rejestracja</h1>
            <p class="auth-subtitle">Utwórz swoje konto</p>
        </div>

        <form class="auth-form" method="post" action="{% url 'register' %}">
            {% csrf_token %}

            <div class="form-group">
                <input type="text" id="username" name="username" class="form-control" placeholder="Nazwa użytkownika"
                       required autocomplete="username">
                <label for="username" class="form-label">Nazwa użytkownika</label>
            </div>

            <div class="form-group">
                <input type="email" id="email" name="email" class="form-control" placeholder="Email" required
                       autocomplete="email">
                <label for="email" class="form-label">Email</label>
            </div>

            <div class="form-group">
                <input type="password" id="password" name="password" class="form-control" placeholder="Hasło" required
                       autocomplete="new-password">
                <label for="password" class="form-label">Hasło</label>
                <button type="button" class="password-toggle" tabindex="-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                </button>
            </div>

            <div class="form-group">
                <input type="password" id="confirm_password" name="confirm_password" class="form-control"
                       placeholder="Potwierdź hasło" required autocomplete="new-password">
                <label for="confirm_password" class="form-label">Potwierdź hasło</label>
                <button type="button" class="password-toggle" tabindex="-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                        <circle cx="12" cy="12" r="3"></circle>
                    </svg>
                </button>
            </div>

            <div class="checkbox-wrapper">
                <input type="checkbox" id="terms" name="terms" class="checkbox-input" required>
                <label for="terms" class="checkbox-label">
                    <span class="checkbox-custom"></span>
                    Akceptuję <a href="#" class="auth-link">regulamin</a> i <a href="#" class="auth-link">politykę
                    prywatności</a>
                </label>
            </div>

            <button type="submit" class="btn btn-primary">Zarejestruj się</button>

            <div class="divider">
                <span>lub</span>
            </div>

            <div class="social-login">
                <a href="{% provider_login_url 'google' process='signup' %}" class="btn btn-social">
                        <span class="social-icon">
                            <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512">
                                <path fill="currentColor"
                                      d="M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"></path>
                            </svg>
                        </span>
                    Zarejestruj się przez Google
                </a>
            </div>

            <div class="auth-footer">
                <p>Masz już konto? <a href="{% url 'login' %}" class="auth-link">Zaloguj się</a></p>
            </div>
        </form>
    </div>
</div>

<script src="{% static 'js/auth.js' %}"></script>
</body>
</html>